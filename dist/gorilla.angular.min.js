!function(l){"use strict";l.module("gorilla",[])}(angular);
!function(o){"use strict";o.module("gorilla.bootstrap",["ui.bootstrap"])}(angular);
!function(angular){"use strict";function directive($parse){return{restrict:"A",scope:!1,link:function($scope,element,attrs){var model=$parse(attrs.bindElement);eval("delete $scope."+attrs.bindElement),model.assign($scope,element)}}}angular.module("gorilla").directive("bindElement",["$parse",directive])}(angular);
!function(e){"use strict";function t(e){return{restrict:"A",replace:!1,terminal:!0,priority:1e3,compile:function(t,r){var n=r.ngDatepicker;return t.attr({"datepicker-popup":"MM/dd/yyyy","is-open":n+"_open","ng-focus":n+"_open = true",readonly:"readonly","current-text":"Today","clear-text":"Clear","ng-model":n}),t.removeAttr("ng-datepicker"),{pre:function(){},post:function(r,i){e(i)(r);var o=t.val();o&&(o.contains(" ")&&(o=o.split(" ")[0]),r[n]=o),r.$watch(n,function(){t.blur()})}}}}}e.module("gorilla").directive("datepicker",["$compile",t])}(angular);
!function(r){"use strict";function i(){return{restrict:"E",scope:!1,link:function(r,i){r.form=i}}}r.module("gorilla").directive("form",i)}(angular);
!function(e){"use strict";function o(e){return{restrict:"A",scope:{callback:"&googlePlaces",ngModel:"=",address:"="},link:function(o,l){if(!window.google||!window.google.maps||!window.google.maps.places)throw"You need link the google maps js file with places to use google-address directive";var a=new google.maps.places.Autocomplete(l[0]);l.attr("autocomplete","off"),google.maps.event.addListener(a,"place_changed",function(){var l=a.getPlace();if(l.geometry){var t=new e(l);o.callback({$value:t}),o.$apply()}}),l.bind("keydown keyup",function(e){var o=e.keyCode||e.which;13===o&&e.preventDefault()})}}}e.module("gorilla").directive("googlePlaces",["googleAddress",o])}(angular);
!function(e){"use strict";function t(){var t={street_number:{name:"number",type:"short_name"},route:{name:"address",type:"long_name"},locality:{name:"city",type:"long_name"},administrative_area_level_1:{name:"state",type:"short_name"},postal_code:{name:"zipCode",type:"short_name"},neighborhood:{name:"neighborhood",type:"short_name"},country:{name:"country",type:"short_name"}},n={address:null,addressNumber:null,city:null,country:null,latitude:null,local:null,longitude:null,number:null,state:null,zipCode:null},o=function(o){e.extend(this,n),this.latitude=o.geometry.location.lat(),this.longitude=o.geometry.location.lng();for(var a=0;a<o.address_components.length;a++){var s=t[o.address_components[a].types[0]]||t[o.address_components[a].types[1]];s&&(this[s.name]=o.address_components[a][s.type])}var l=o.formatted_address.split(",");l.pop(),this.local=l.join(","),this.addressNumber=((this.number||"")+" "+this.address).trim()};return o}e.module("gorilla").factory("googleAddress",[t])}(angular);
!function(t){"use strict";function r(t){return{fromForm:function(r){return t({method:"POST",url:r.attr("action"),data:r.serialize(),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}t.module("gorilla").factory("httpFactory",["$http",r])}(angular);
!function(o){"use strict";function t(o,t,e,l){o.title=l.title,o.content=e.trustAsHtml(l.content),o.resource=l.resource,o.showCancel=void 0!==l.showCancel?l.showCancel:!0}o.module("gorilla.bootstrap").controller("gorilla.controllers.modal",["$scope","$modalInstance","$sce","data",t])}(angular);
!function(t){"use strict";function n(t){var n='<div class="modal-header"><button type="button" class="close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span> </button> <h3 class="modal-title">{{title}}</h3> </div><div class="modal-body confirm-alert" ng-bind-html="content"></div><div class="modal-footer"> <div ng-show="!showCancel"> <button type="button" class="btn btn-success" ng-click="$close()">{{resource.ok}}</button> </div><div ng-show="showCancel"> <button type="button" class="btn btn-success" ng-click="$close()">{{resource.yes}}</button> <button type="button" class="btn btn-default" ng-click="$dismiss()">{{resource.no}}</button> </div></div>',o={alertTitle:"Alert",confirmTitle:"Confirm",ok:"Ok",yes:"Ok",no:"Cancel"},e=function(e,s,l){return t.open({template:n,controller:"gorilla.controllers.modal",resolve:{data:function(){return{title:e,content:s,showCancel:l,resource:o}}}}).result};this.alert=function(t){return e(o.alertTitle,t,!1)},this.confirm=function(t){return e(o.confirmTitle,t,!0)},this.modifyResource=function(t){o=t}}t.module("gorilla.bootstrap").service("gorilla.modal",["$uibModal",n])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdvcmlsbGEuYW5ndWxhci5qcyIsImJvb3RzdHJhcC9nb3JpbGxhLmFuZ3VsYXIuYm9vdHN0cmFwLmpzIiwiZGlyZWN0aXZlcy9iaW5kRWxlbWVudC5qcyIsImRpcmVjdGl2ZXMvZGF0ZXBpY2tlci5qcyIsImRpcmVjdGl2ZXMvZm9ybS5qcyIsImRpcmVjdGl2ZXMvZ29vZ2xlUGxhY2VzLmpzIiwiZmFjdG9yaWVzL2dvb2dsZUFkZHJlc3MuanMiLCJmYWN0b3JpZXMvaHR0cEZhY3RvcnkuanMiLCJib290c3RyYXAvY29udHJvbGxlcnMvbW9kYWwuanMiLCJib290c3RyYXAvc2VydmljZXMvbW9kYWwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSIsIiRwYXJzZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJsaW5rIiwiJHNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibW9kZWwiLCJiaW5kRWxlbWVudCIsImV2YWwiLCJhc3NpZ24iLCIkY29tcGlsZSIsInJlcGxhY2UiLCJ0ZXJtaW5hbCIsInByaW9yaXR5IiwiY29tcGlsZSIsIm1vZGVsTmFtZSIsIm5nRGF0ZXBpY2tlciIsImF0dHIiLCJkYXRlcGlja2VyLXBvcHVwIiwiaXMtb3BlbiIsIm5nLWZvY3VzIiwicmVhZG9ubHkiLCJjdXJyZW50LXRleHQiLCJjbGVhci10ZXh0IiwibmctbW9kZWwiLCJyZW1vdmVBdHRyIiwicHJlIiwicG9zdCIsImlFbGVtZW50IiwidmFsdWUiLCJ2YWwiLCJjb250YWlucyIsInNwbGl0IiwiJHdhdGNoIiwiYmx1ciIsImVsZW0iLCJmb3JtIiwiR29vZ2xlQWRkcmVzcyIsImNhbGxiYWNrIiwibmdNb2RlbCIsImFkZHJlc3MiLCJ3aW5kb3ciLCJnb29nbGUiLCJtYXBzIiwicGxhY2VzIiwiYXV0b2NvbXBsZXRlIiwiQXV0b2NvbXBsZXRlIiwiZXZlbnQiLCJhZGRMaXN0ZW5lciIsInBsYWNlIiwiZ2V0UGxhY2UiLCJnZW9tZXRyeSIsImluZm8iLCIkdmFsdWUiLCIkYXBwbHkiLCJiaW5kIiwiZSIsImNvZGUiLCJrZXlDb2RlIiwid2hpY2giLCJwcmV2ZW50RGVmYXVsdCIsImZhY3RvcnkiLCJjb21wb25lbnQiLCJzdHJlZXRfbnVtYmVyIiwibmFtZSIsInR5cGUiLCJyb3V0ZSIsImxvY2FsaXR5IiwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xIiwicG9zdGFsX2NvZGUiLCJuZWlnaGJvcmhvb2QiLCJjb3VudHJ5IiwiZmllbGRzIiwiYWRkcmVzc051bWJlciIsImNpdHkiLCJsYXRpdHVkZSIsImxvY2FsIiwibG9uZ2l0dWRlIiwibnVtYmVyIiwic3RhdGUiLCJ6aXBDb2RlIiwiZ29vZ2xlQWRkcmVzcyIsImV4dGVuZCIsInRoaXMiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImkiLCJhZGRyZXNzX2NvbXBvbmVudHMiLCJsZW5ndGgiLCJjb21wb25lbnRJbmZvIiwidHlwZXMiLCJmb3JtYXR0ZWRfYWRkcmVzcyIsInBvcCIsImpvaW4iLCJ0cmltIiwiJGh0dHAiLCJmcm9tRm9ybSIsIm1ldGhvZCIsInVybCIsImRhdGEiLCJzZXJpYWxpemUiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwiY29udHJvbGxlciIsIiRtb2RhbEluc3RhbmNlIiwiJHNjZSIsInRpdGxlIiwiY29udGVudCIsInRydXN0QXNIdG1sIiwicmVzb3VyY2UiLCJzaG93Q2FuY2VsIiwidW5kZWZpbmVkIiwic2VydmljZSIsIiR1aWJNb2RhbCIsInRlbXBsYXRlIiwiYWxlcnRUaXRsZSIsImNvbmZpcm1UaXRsZSIsIm9rIiwieWVzIiwibm8iLCJvcGVuTW9kYWwiLCJvcGVuIiwicmVzb2x2ZSIsInJlc3VsdCIsImFsZXJ0IiwiY29uZmlybSIsIm1vZGlmeVJlc291cmNlIiwibmV3UmVzb3VyY2UiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBQ1IsWUFDQUEsR0FBUUMsT0FBTyxlQUNkRDtDQ0hILFNBQVVBLEdBQ04sWUFDQUEsR0FBUUMsT0FBTyxxQkFBc0Isa0JBQ3RDRDtD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RyxXQUFpQ0MsU0FBcEJaLEVBQUtXLFdBQTJCWCxFQUFLVyxZQUFhLEVBUjFFbkgsRUFBUUMsT0FBTyxxQkFDVjJHLFdBQVcsNkJBQThCLFNBQVUsaUJBQWtCLE9BQVEsT0FBUUEsS0FVM0Y1RztDQ2RILFNBQVVBLEdBQ04sWUFLQSxTQUFTcUgsR0FBUUMsR0FHYixHQUFJQyxHQUFXLGluQkFDWEwsR0FDQU0sV0FBWSxRQUNaQyxhQUFjLFVBQ2RDLEdBQUksS0FDSkMsSUFBSyxLQUNMQyxHQUFJLFVBR0pDLEVBQVksU0FBU2QsRUFBT0MsRUFBU0csR0FDckMsTUFBT0csR0FBVVEsTUFDYlAsU0FBVUEsRUFDVlgsV0FBWSw0QkFDWm1CLFNBQ0l2QixLQUFNLFdBQ0YsT0FDSU8sTUFBT0EsRUFDUEMsUUFBU0EsRUFDVEcsV0FBWUEsRUFDWkQsU0FBVUEsT0FJdkJjLE9BR1B6QyxNQUFLMEMsTUFBUSxTQUFTakIsR0FDbEIsTUFBT2EsR0FBVVgsRUFBU00sV0FBWVIsR0FBUyxJQUduRHpCLEtBQUsyQyxRQUFVLFNBQVNsQixHQUNwQixNQUFPYSxHQUFVWCxFQUFTTyxhQUFjVCxHQUFTLElBR3JEekIsS0FBSzRDLGVBQWlCLFNBQVNDLEdBQzNCbEIsRUFBV2tCLEdBekNuQnBJLEVBQVFDLE9BQU8scUJBQ1ZvSCxRQUFRLGlCQUFrQixZQUFhQSxLQTJDN0NySCIsImZpbGUiOiJnb3JpbGxhLmFuZ3VsYXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIGFuZ3VsYXIubW9kdWxlKFwiZ29yaWxsYVwiLCBbXSk7XG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImdvcmlsbGEuYm9vdHN0cmFwXCIsIFtcInVpLmJvb3RzdHJhcFwiXSk7XHJcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKFwiZ29yaWxsYVwiKVxuXHRcdC5kaXJlY3RpdmUoXCJiaW5kRWxlbWVudFwiLCBbXCIkcGFyc2VcIiwgZGlyZWN0aXZlXSk7XG5cblx0ZnVuY3Rpb24gZGlyZWN0aXZlKCRwYXJzZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogXCJBXCIsXG5cdFx0XHRzY29wZTogZmFsc2UsXG5cdFx0XHRsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cdFx0XHRcdHZhciBtb2RlbCA9ICRwYXJzZShhdHRycy5iaW5kRWxlbWVudCk7XG5cdFx0XHRcdGV2YWwoXCJkZWxldGUgJHNjb3BlLlwiICsgYXR0cnMuYmluZEVsZW1lbnQpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0XHRcdFx0bW9kZWwuYXNzaWduKCRzY29wZSwgZWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiZ29yaWxsYVwiKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoXCJkYXRlcGlja2VyXCIsIFtcIiRjb21waWxlXCIsIGRpcmVjdGl2ZV0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZSgkY29tcGlsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiBcIkFcIixcclxuICAgICAgICAgICAgcmVwbGFjZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgICAgICAgICBwcmlvcml0eTogMTAwMCxcclxuICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb2RlbE5hbWUgPSBhdHRycy5uZ0RhdGVwaWNrZXI7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0ZXBpY2tlci1wb3B1cFwiOiBcIk1NL2RkL3l5eXlcIixcclxuICAgICAgICAgICAgICAgICAgICBcImlzLW9wZW5cIjogbW9kZWxOYW1lICsgXCJfb3BlblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmctZm9jdXNcIjogbW9kZWxOYW1lICsgXCJfb3BlbiA9IHRydWVcIixcclxuICAgICAgICAgICAgICAgICAgICBcInJlYWRvbmx5XCI6IFwicmVhZG9ubHlcIixcclxuICAgICAgICAgICAgICAgICAgICBcImN1cnJlbnQtdGV4dFwiOiBcIlRvZGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjbGVhci10ZXh0XCI6IFwiQ2xlYXJcIixcclxuICAgICAgICAgICAgICAgICAgICBcIm5nLW1vZGVsXCI6IG1vZGVsTmFtZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9JbXBlZGUgY3Jhc2ggbmEgcGFnaW5hXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoXCJuZy1kYXRlcGlja2VyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBwcmVMaW5rKCkge30sXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdDogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlKGlFbGVtZW50KShzY29wZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NldGEgbyB2YWxvciBwYWRyw6NvIGRvIGlucHV0IG5hIG1vZGVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3Igc2UgZGF0ZXRpbWUgYSBob3JhIHBvZGUgdGVyIHZpbmRvIGVudGFvIHJlbW92ZSBlbGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb250YWlucyhcIiBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KFwiIFwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZVttb2RlbE5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChtb2RlbE5hbWUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKFwiZ29yaWxsYVwiKVxuXHRcdC5kaXJlY3RpdmUoXCJmb3JtXCIsIGRpcmVjdGl2ZSk7XG5cblx0ZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogXCJFXCIsXG5cdFx0XHRzY29wZTogZmFsc2UsXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xuXHRcdFx0XHRzY29wZS5mb3JtID0gZWxlbTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZShcImdvcmlsbGFcIilcblx0XHQuZGlyZWN0aXZlKFwiZ29vZ2xlUGxhY2VzXCIsIFtcImdvb2dsZUFkZHJlc3NcIiwgZGlyZWN0aXZlXSk7XG5cblx0ZnVuY3Rpb24gZGlyZWN0aXZlKEdvb2dsZUFkZHJlc3MpIHtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogXCJBXCIsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0XHRjYWxsYmFjazogXCImZ29vZ2xlUGxhY2VzXCIsXG5cdFx0XHRcdG5nTW9kZWw6IFwiPVwiLFxuXHRcdFx0XHRhZGRyZXNzOiBcIj1cIlxuXHRcdFx0fSxcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XG5cdFx0XHRcdGlmICghd2luZG93Lmdvb2dsZSB8fCAhd2luZG93Lmdvb2dsZS5tYXBzIHx8ICF3aW5kb3cuZ29vZ2xlLm1hcHMucGxhY2VzKSB7XG5cdFx0XHRcdFx0dGhyb3cgXCJZb3UgbmVlZCBsaW5rIHRoZSBnb29nbGUgbWFwcyBqcyBmaWxlIHdpdGggcGxhY2VzIHRvIHVzZSBnb29nbGUtYWRkcmVzcyBkaXJlY3RpdmVcIjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBhdXRvY29tcGxldGUgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLkF1dG9jb21wbGV0ZShlbGVtWzBdKTtcblx0XHRcdFx0ZWxlbS5hdHRyKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuXG5cdFx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGF1dG9jb21wbGV0ZSwgXCJwbGFjZV9jaGFuZ2VkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBwbGFjZSA9IGF1dG9jb21wbGV0ZS5nZXRQbGFjZSgpO1xuXG5cdFx0XHRcdFx0aWYgKCFwbGFjZS5nZW9tZXRyeSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBpbmZvID0gbmV3IEdvb2dsZUFkZHJlc3MocGxhY2UpO1xuXG5cdFx0XHRcdFx0c2NvcGUuY2FsbGJhY2soe1xuXHRcdFx0XHRcdFx0JHZhbHVlOiBpbmZvXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0ZWxlbS5iaW5kKCdrZXlkb3duIGtleXVwJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHZhciBjb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cblx0XHRcdFx0XHRpZiAoY29kZSA9PT0gMTMpIHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoXCJnb3JpbGxhXCIpXG5cdFx0LmZhY3RvcnkoXCJnb29nbGVBZGRyZXNzXCIsIFtmYWN0b3J5XSk7XG5cblx0ZnVuY3Rpb24gZmFjdG9yeSgpIHtcblx0XHR2YXIgY29tcG9uZW50ID0ge1xuXHRcdFx0c3RyZWV0X251bWJlcjoge1xuXHRcdFx0XHRuYW1lOiAnbnVtYmVyJyxcblx0XHRcdFx0dHlwZTogJ3Nob3J0X25hbWUnXG5cdFx0XHR9LFxuXHRcdFx0cm91dGU6IHtcblx0XHRcdFx0bmFtZTogJ2FkZHJlc3MnLFxuXHRcdFx0XHR0eXBlOiAnbG9uZ19uYW1lJ1xuXHRcdFx0fSxcblx0XHRcdGxvY2FsaXR5OiB7XG5cdFx0XHRcdG5hbWU6ICdjaXR5Jyxcblx0XHRcdFx0dHlwZTogJ2xvbmdfbmFtZSdcblx0XHRcdH0sXG5cdFx0XHRhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzE6IHtcblx0XHRcdFx0bmFtZTogJ3N0YXRlJyxcblx0XHRcdFx0dHlwZTogJ3Nob3J0X25hbWUnXG5cdFx0XHR9LFxuXHRcdFx0cG9zdGFsX2NvZGU6IHtcblx0XHRcdFx0bmFtZTogJ3ppcENvZGUnLFxuXHRcdFx0XHR0eXBlOiAnc2hvcnRfbmFtZSdcblx0XHRcdH0sXG5cdFx0XHRuZWlnaGJvcmhvb2Q6IHtcblx0XHRcdFx0bmFtZTogJ25laWdoYm9yaG9vZCcsXG5cdFx0XHRcdHR5cGU6ICdzaG9ydF9uYW1lJ1xuXHRcdFx0fSxcblx0XHRcdGNvdW50cnk6IHtcblx0XHRcdFx0bmFtZTogJ2NvdW50cnknLFxuXHRcdFx0XHR0eXBlOiAnc2hvcnRfbmFtZSdcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dmFyIGZpZWxkcyA9IHtcblx0XHRcdGFkZHJlc3M6IG51bGwsXG5cdFx0XHRhZGRyZXNzTnVtYmVyOiBudWxsLFxuXHRcdFx0Y2l0eTogbnVsbCxcblx0XHRcdGNvdW50cnk6IG51bGwsXG5cdFx0XHRsYXRpdHVkZTogbnVsbCxcblx0XHRcdGxvY2FsOiBudWxsLFxuXHRcdFx0bG9uZ2l0dWRlOiBudWxsLFxuXHRcdFx0bnVtYmVyOiBudWxsLFxuXHRcdFx0c3RhdGU6IG51bGwsXG5cdFx0XHR6aXBDb2RlOiBudWxsXG5cdFx0fTtcblxuXHRcdHZhciBnb29nbGVBZGRyZXNzID0gZnVuY3Rpb24ocGxhY2UpIHtcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIGZpZWxkcyk7XG5cblx0XHRcdHRoaXMubGF0aXR1ZGUgPSBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcblx0XHRcdHRoaXMubG9uZ2l0dWRlID0gcGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcGxhY2UuYWRkcmVzc19jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBjb21wb25lbnRJbmZvID0gY29tcG9uZW50W3BsYWNlLmFkZHJlc3NfY29tcG9uZW50c1tpXS50eXBlc1swXV0gfHwgY29tcG9uZW50W3BsYWNlLmFkZHJlc3NfY29tcG9uZW50c1tpXS50eXBlc1sxXV07XG5cblx0XHRcdFx0aWYgKCFjb21wb25lbnRJbmZvKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzW2NvbXBvbmVudEluZm8ubmFtZV0gPSBwbGFjZS5hZGRyZXNzX2NvbXBvbmVudHNbaV1bY29tcG9uZW50SW5mby50eXBlXTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGFkZHJlc3MgPSBwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcy5zcGxpdChcIixcIik7XG5cdFx0XHRhZGRyZXNzLnBvcCgpO1xuXG5cdFx0XHR0aGlzLmxvY2FsID0gYWRkcmVzcy5qb2luKFwiLFwiKTtcblx0XHRcdHRoaXMuYWRkcmVzc051bWJlciA9ICgodGhpcy5udW1iZXIgfHwgJycpICsgJyAnICsgdGhpcy5hZGRyZXNzKS50cmltKCk7XG5cdFx0fTtcblxuXHRcdHJldHVybiBnb29nbGVBZGRyZXNzO1xuXHR9XG5cbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImdvcmlsbGFcIilcclxuICAgICAgICAuZmFjdG9yeShcImh0dHBGYWN0b3J5XCIsIFtcIiRodHRwXCIsIGZhY3RvcnldKTtcclxuXHJcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCRodHRwKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZnJvbUZvcm06IGZ1bmN0aW9uKGZvcm0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IGZvcm0uYXR0cihcImFjdGlvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJnb3JpbGxhLmJvb3RzdHJhcFwiKVxyXG4gICAgICAgIC5jb250cm9sbGVyKFwiZ29yaWxsYS5jb250cm9sbGVycy5tb2RhbFwiLCBbXCIkc2NvcGVcIiwgXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRzY2VcIiwgXCJkYXRhXCIsIGNvbnRyb2xsZXJdKTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigkc2NvcGUsICRtb2RhbEluc3RhbmNlLCAkc2NlLCBkYXRhKSB7XHJcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gZGF0YS50aXRsZTtcclxuICAgICAgICAkc2NvcGUuY29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoZGF0YS5jb250ZW50KTtcclxuICAgICAgICAkc2NvcGUucmVzb3VyY2UgPSBkYXRhLnJlc291cmNlO1xyXG4gICAgICAgICRzY29wZS5zaG93Q2FuY2VsID0gZGF0YS5zaG93Q2FuY2VsICE9PSB1bmRlZmluZWQgPyBkYXRhLnNob3dDYW5jZWwgOiB0cnVlO1xyXG4gICAgfVxyXG5cclxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiZ29yaWxsYS5ib290c3RyYXBcIilcclxuICAgICAgICAuc2VydmljZShcImdvcmlsbGEubW9kYWxcIiwgW1wiJHVpYk1vZGFsXCIsIHNlcnZpY2VdKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXJ2aWNlKCR1aWJNb2RhbCkge1xyXG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcblxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGRpc21pc3MoKVwiPjxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+IDwvYnV0dG9uPiA8aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPnt7dGl0bGV9fTwvaDM+IDwvZGl2PjxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IGNvbmZpcm0tYWxlcnRcIiBuZy1iaW5kLWh0bWw9XCJjb250ZW50XCI+PC9kaXY+PGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPiA8ZGl2IG5nLXNob3c9XCIhc2hvd0NhbmNlbFwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGNsb3NlKClcIj57e3Jlc291cmNlLm9rfX08L2J1dHRvbj4gPC9kaXY+PGRpdiBuZy1zaG93PVwic2hvd0NhbmNlbFwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGNsb3NlKClcIj57e3Jlc291cmNlLnllc319PC9idXR0b24+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgbmctY2xpY2s9XCIkZGlzbWlzcygpXCI+e3tyZXNvdXJjZS5ub319PC9idXR0b24+IDwvZGl2PjwvZGl2Pic7XHJcbiAgICAgICAgdmFyIHJlc291cmNlID0ge1xyXG4gICAgICAgICAgICBhbGVydFRpdGxlOiBcIkFsZXJ0XCIsXHJcbiAgICAgICAgICAgIGNvbmZpcm1UaXRsZTogXCJDb25maXJtXCIsXHJcbiAgICAgICAgICAgIG9rOiBcIk9rXCIsXHJcbiAgICAgICAgICAgIHllczogXCJPa1wiLFxyXG4gICAgICAgICAgICBubzogXCJDYW5jZWxcIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBvcGVuTW9kYWwgPSBmdW5jdGlvbih0aXRsZSwgY29udGVudCwgc2hvd0NhbmNlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJnb3JpbGxhLmNvbnRyb2xsZXJzLm1vZGFsXCIsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbDogc2hvd0NhbmNlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkucmVzdWx0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYWxlcnQgPSBmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcGVuTW9kYWwocmVzb3VyY2UuYWxlcnRUaXRsZSwgY29udGVudCwgZmFsc2UpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlybSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZW5Nb2RhbChyZXNvdXJjZS5jb25maXJtVGl0bGUsIGNvbnRlbnQsIHRydWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubW9kaWZ5UmVzb3VyY2UgPSBmdW5jdGlvbihuZXdSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXNvdXJjZSA9IG5ld1Jlc291cmNlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pKGFuZ3VsYXIpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
